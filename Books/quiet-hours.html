<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiet Hours — ChapterFlow Books</title>

  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../footer.css">

  <style>
    /* Scoped filler styles (won't mess your other pages) */
    body { font-family: "Merriweather", serif; background:#F2EEE5; margin:0; }
    .cf-wrap { max-width: 1100px; margin: 0 auto; padding: 20px; }
    .cf-topbar { background:#fff; border-bottom:1px solid rgba(0,0,0,.08); }
    .cf-topbar .inner { max-width:1100px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; justify-content:space-between; }
    .brand { display:flex; gap:10px; align-items:center; text-decoration:none; color:#2b2b2b; }
    .brand .logo { width:34px; height:34px; border-radius:10px; background:#E8DBC9; display:grid; place-items:center; font-weight:700; }
    .navlinks { display:flex; gap:14px; align-items:center; }
    .navlinks a { text-decoration:none; color:#2b2b2b; opacity:.9; }
    .pill { background:#F2EEE5; border:1px solid rgba(0,0,0,.08); padding:6px 10px; border-radius:999px; font-size:13px; }

    .back { display:inline-flex; gap:8px; align-items:center; text-decoration:none; color:#2b2b2b; margin:16px 0; opacity:.9; }
    .grid { display:grid; grid-template-columns: 320px 1fr; gap:20px; }
    @media (max-width: 900px){ .grid{ grid-template-columns:1fr; } }

    .card { background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:18px; box-shadow:0 10px 30px rgba(0,0,0,.06); overflow:hidden; }
    .cover { aspect-ratio: 3/4; background:linear-gradient(135deg,#E8DBC9,#F2EEE5); display:flex; align-items:flex-end; padding:16px; }
    .cover .badge { background:rgba(255,255,255,.85); border:1px solid rgba(0,0,0,.08); padding:6px 10px; border-radius:999px; font-size:12px; }

    .content { padding:18px; }
    h1 { margin:0 0 6px; font-size:28px; }
    .meta { display:flex; flex-wrap:wrap; gap:10px; opacity:.85; }
    .meta span { font-size:13px; }

    .actions { display:flex; flex-wrap:wrap; gap:10px; margin:16px 0 6px; }
    .btn { border:none; background:#2b2b2b; color:#fff; padding:10px 14px; border-radius:12px; cursor:pointer; }
    .btn.secondary { background:#F2EEE5; color:#2b2b2b; border:1px solid rgba(0,0,0,.12); }
    .btn.text { background:transparent; color:#d35400; padding:10px 6px; }
    .btn:hover { transform: translateY(-1px); transition: .18s ease; }
    .btn.secondary:hover { background:#E8DBC9; }

    .section { padding:18px; border-top:1px solid rgba(0,0,0,.08); }
    .section h3 { margin:0 0 10px; font-size:16px; }
    .syn { opacity:.92; line-height:1.65; }

    .progress { background:#F2EEE5; border:1px solid rgba(0,0,0,.08); border-radius:999px; overflow:hidden; height:12px; }
    .bar { height:100%; width:0%; background:#2b2b2b; transition: width .3s ease; }

    .chapters a { display:flex; justify-content:space-between; text-decoration:none; color:#2b2b2b; padding:10px 12px; border:1px solid rgba(0,0,0,.08); border-radius:12px; margin-bottom:10px; }
    .chapters a:hover { background:#F2EEE5; }
    .small { font-size:12px; opacity:.8; }
  </style>
</head>
<body>

  <header class="cf-topbar">
    <div class="inner">
      <a class="brand" href="../ChapterFlow.html">
        <div class="logo">CF</div>
        <div>
          <div style="font-weight:700; line-height:1;">ChapterFlow</div>
          <div class="small">Books • Filler Catalog</div>
        </div>
      </a>
      <nav class="navlinks">
        <a href="../readinghub.html">Reading Hub</a>
        <a href="../points-rewards.html" class="pill">Points: <b id="pointsPill">0</b></a>
      </nav>
    </div>
  </header>

  <main class="cf-wrap">
    <a class="back" href="../readinghub.html">← Back to Reading Hub</a>

    <div class="grid">
      <div class="card">
        <div class="cover">
          <span class="badge">Campus Slice-of-Life</span>
        </div>
        <div class="content">
          <div class="meta">
            <span>Uploaded by: <b>Student Author</b></span>
            <span>•</span>
            <span>Series ID: <b>CF-BOOK-001</b></span>
          </div>

          <div class="actions">
            <button class="btn" id="startBtn">Start Reading</button>
            <button class="btn secondary" id="saveBtn">Save to Library</button>
            <button class="btn text" id="shareBtn">Share</button>
          </div>

          <div class="small">Reading time today: <b id="minutesToday">0</b> min • Streak: <b id="streak">0</b> day(s)</div>
        </div>

        <div class="section">
          <h3>Reading Progress</h3>
          <div class="progress" aria-label="Reading progress">
            <div class="bar" id="bar"></div>
          </div>
          <div class="small" style="margin-top:8px;">Chapter: <b id="chapterProgress">1</b> / 6</div>
        </div>
      </div>

      <div class="card">
        <div class="content">
          <h1>Quiet Hours</h1>
          <div class="meta">
            <span>Genre: <b>Slice-of-Life</b></span>
            <span>•</span>
            <span>Tags: <b>Campus</b>, <b>Friendship</b>, <b>Soft Romance</b></span>
            <span>•</span>
            <span>Reward: <b>+20 pts / chapter</b></span>
          </div>
        </div>

        <div class="section">
          <h3>Description</h3>
          <div class="syn">
            Finals week hits like a storm. A quiet corner of the library becomes a shared shelter—one desk, two strangers,
            and the kind of conversations that only happen when the world gets too loud. <br><br>
            <b>Note:</b> This is a filler entry for ChapterFlow’s catalog page (safe to replace later).
          </div>
        </div>

        <div class="section">
          <h3>Chapters</h3>
          <div class="chapters">
            <a href="#" data-ch="1"><span>Chapter 1 — “The Empty Seat”</span><span class="small">~6 min</span></a>
            <a href="#" data-ch="2"><span>Chapter 2 — “Borrowed Notes”</span><span class="small">~7 min</span></a>
            <a href="#" data-ch="3"><span>Chapter 3 — “Quiet Company”</span><span class="small">~8 min</span></a>
            <a href="#" data-ch="4"><span>Chapter 4 — “Orangered Promises”</span><span class="small">~7 min</span></a>
            <a href="#" data-ch="5"><span>Chapter 5 — “Group Study”</span><span class="small">~9 min</span></a>
            <a href="#" data-ch="6"><span>Chapter 6 — “After the Bell”</span><span class="small">~10 min</span></a>
          </div>
          <div class="small">Tip: these links are placeholders—wire them to your real <code>story.html</code>/<code>chapter.html</code> later.</div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // ---- Simple ChapterFlow-like localStorage filler ----
    const KEY = "cf_book_001";
    const state = JSON.parse(localStorage.getItem(KEY) || "{}");

    const pointsKey = "cf_points";
    const points = Number(localStorage.getItem(pointsKey) || 0);

    const totalChapters = 6;
    const currentChapter = Number(state.currentChapter || 1);
    const minutesToday = Number(state.minutesToday || 0);
    const streak = Number(state.streak || 0);

    const pct = Math.round(((currentChapter - 1) / totalChapters) * 100);

    document.getElementById("pointsPill").textContent = points;
    document.getElementById("chapterProgress").textContent = currentChapter;
    document.getElementById("minutesToday").textContent = minutesToday;
    document.getElementById("streak").textContent = streak;
    document.getElementById("bar").style.width = pct + "%";

    function saveState(next) {
      localStorage.setItem(KEY, JSON.stringify(next));
    }

    document.getElementById("startBtn").addEventListener("click", () => {
      // Fake: gain points + advance chapter
      const nextChapter = Math.min(totalChapters, currentChapter + 1);
      const nextPoints = points + 20;
      localStorage.setItem(pointsKey, String(nextPoints));

      const nextState = {
        currentChapter: nextChapter,
        minutesToday: minutesToday + 6,
        streak: Math.max(1, streak) // simple filler
      };
      saveState(nextState);
      location.reload();
    });

    document.getElementById("saveBtn").addEventListener("click", () => {
      const lib = JSON.parse(localStorage.getItem("cf_library") || "[]");
      if (!lib.includes(KEY)) lib.push(KEY);
      localStorage.setItem("cf_library", JSON.stringify(lib));
      alert("Saved to Library (filler) ✅");
    });

    document.getElementById("shareBtn").addEventListener("click", async () => {
      const text = "Quiet Hours — ChapterFlow (filler book page)";
      try {
        await navigator.clipboard.writeText(text);
        alert("Copied share text ✅");
      } catch(e) {
        alert(text);
      }
    });

    document.querySelectorAll(".chapters a").forEach(a => {
      a.addEventListener("click", (e) => {
        e.preventDefault();
        const ch = Number(a.dataset.ch || 1);
        saveState({ ...state, currentChapter: ch });
        alert("Selected Chapter " + ch + " (placeholder)");
      });
    });
  </script>
</body>
</html>
