<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile - ChapterFlow</title>

    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../Style.css">

    <!-- Appwrite SDK for uploads and auth -->
    <script src="https://cdn.jsdelivr.net/npm/appwrite@14.0.0"></script>
    <!-- Your main script (loaded after Appwrite) -->
    <script src="../script.js" defer></script>

    <style>
        @media (max-width: 768px) {
  .profile-page {
    padding: 110px 1.2rem 2.5rem;
  }

  .profile-section {
    flex-direction: column;
    align-items: center;
  }

  .avatar-wrapper {
    margin-bottom: 1rem;
  }

  .profile-info {
    width: 100%;
  }

  .points-row {
    justify-content: space-between;
  }

  .profile-stories {
    margin-top: 1.8rem;
  }

  .profile-stories-list {
    grid-template-columns: 1fr;
  }
}


    </style>
</head>

<header>
    <nav class="navbar">
        <button class="hamburger" aria-label="Open menu">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </button>

        <img class="logo" src="https://nyc.cloud.appwrite.io/v1/storage/buckets/69230e950007fef02b5b/files/6937c2300013315bfe8b/view?project=69230def0009866e3192&mode=admin" alt="Logo">

        <h2 class="site-title">ChapterFlow</h2>

        <div class="nav-links">
            <a href="../index.html" class="nav-link nav-main-link">Home</a>
            <a href="../about.html" class="nav-link nav-main-link">About</a>
            <a href="#" class="nav-link nav-auth-link nav-login-link">Log in</a>
            <a href="#" class="nav-link nav-auth-link nav-signup-cta">Sign up</a>
        </div>
    </nav>

    <div class="slide-nav">
        <button class="close-btn" aria-label="Close menu">&lt;</button>
        <p class="slide-message">Please log in first</p>

        <!-- Pre-logged in Log in button -->
        <button class="login-btn">Log in</button>
    </div>
    <div class="backdrop"></div>
</header>


<body class="loading edit-profile-page">
    <div class="profile-page">
        <!-- Back button -->
        <a href="../index.html" class="back-btn">← Back</a>

        <!-- PROFILE CARD -->
        <div class="profile-section" aria-busy="true">
            <!-- AVATAR WITH HOVER OVERLAY -->
            <div class="avatar-wrapper" id="avatar-wrapper">
                <img
                    id="profile-pic"
                    src="https://via.placeholder.com/100x100/cccccc/000000?text=U"
                    alt="Profile Picture"
                >
                <div class="avatar-overlay">
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                        <path
                            d="M9 4.5L7.5 6H5A2 2 0 003 8v8a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-2.5L15 4.5H9z"
                            fill="currentColor"
                        />
                        <circle cx="12" cy="12" r="3.5" fill="#ffffff" />
                    </svg>
                    <span>Upload</span>
                </div>
            </div>

            <div class="profile-info">
                <!-- Display mode -->
                <div id="name-display-wrapper">
                    <h2 id="user-name">User Name</h2>
                    <button id="edit-name-btn" class="edit-name-btn" type="button" aria-label="Edit username">
                        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path
                                d="M3 17.25V21h3.75L19.81 7.94l-3.75-3.75L3 17.25Z"
                                stroke="currentColor" stroke-width="1.6"
                            />
                            <path
                                d="M14.06 4.19l3.75 3.75"
                                stroke="currentColor" stroke-width="1.6"
                            />
                        </svg>
                    </button>
                </div>

                <!-- Edit mode -->
                <div id="name-editor" class="name-editor">
                    <input id="name-input" type="text" maxlength="40" autocomplete="name" />
                    <button id="save-name-btn" type="button">Save</button>
                    <button id="cancel-name-btn" type="button">Cancel</button>
                </div>

                <p id="user-email">user@example.com</p>

                <div class="points-row">
                    <span class="points-label">Points</span>
                    <button class="points-create-btn" type="button">Create</button>
                </div>
            </div>
        </div>

        <!-- STORIES / SERIES UNDER THE CARD -->
<section class="profile-stories">
    <!-- TEXT ONLY -->
    <div class="profile-stories-header">
        <h3 class="profile-stories-heading">Your stories / series</h3>
        <p class="profile-stories-empty">You haven’t published any stories yet.</p>
    </div>

    <!-- CARDS ONLY -->
    <div class="profile-stories-wrapper">
        <div id="profile-stories-container" class="profile-stories-list"></div>
    </div>
</section>

    </div>

    <!-- Hidden file input for avatar -->
    <input type="file" id="profile-pic-upload" accept="image/*" style="display: none;">

    <section class="footer-main">
    <div class="footer-inner">
        <div class="footer-col company">
            <h3 class="footer-title">ChapterFlow</h3>
            <p class="footer-description">
                A campus reading platform where students discover stories,
                earn rewards, and share their creative voice.
            </p>
        </div>
        <div class="footer-col links">
            <h3 class="footer-title">Quick Links</h3>
            <ul class="footer-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../readinghub.html">Explore Stories</a></li>
                <li><a href="../about.html">About Us</a></li>
                <li><a href="points-rewards.html">Points &amp; Rewards</a></li>
            </ul>
        </div>
        <div class="footer-col connect">
            <h3 class="footer-title">Connect</h3>
            <div class="social-icons">
                <a href="#" aria-label="Facebook"><img src="https://nyc.cloud.appwrite.io/v1/storage/buckets/69230e950007fef02b5b/files/6935c0e400277d96f69d/view?project=69230def0009866e3192&mode=admin" alt="Facebook"></a>
                <a href="#" aria-label="Twitter"><img src="https://nyc.cloud.appwrite.io/v1/storage/buckets/69230e950007fef02b5b/files/6935c0dd0035010d51ae/view?project=69230def0009866e3192&mode=admin" alt="Twitter"></a>
                <a href="#" aria-label="Instagram"><img src="https://nyc.cloud.appwrite.io/v1/storage/buckets/69230e950007fef02b5b/files/6935c0d60001a41452ee/view?project=69230def0009866e3192&mode=admin" alt="Instagram"></a>
            </div>
        </div>
    </div>
    <hr class="footer-divider">
    <div class="footer-bottom">
        <p>© 2025 ChapterFlow. All rights reserved.</p>
    </div>
</section>

</body>
</html>
